<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全球新冠疫情数据分析统计系统</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.css">
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
<div class="container-fluid px-0">
    <header class="header py-3">
        <div class="container">
            <h1 class="text-center mb-0">全球新冠疫情数据分析统计系统</h1>
        </div>
    </header>

    <!-- 导航菜单 -->
    {% include 'navbar.html' %}

    <!-- 内容区域 -->
    <div class="container-fluid px-4 mt-3">
        <!-- 主要展示区域 -->
        <div class="row mb-4">
            <!-- 左侧地图区域 -->
            <div class="col-md-9 mb-3">
                <div class="global-stats-card">
                    <h5 class="section-title">中国累计死亡/确诊/治愈病例数:</h5>
                    <div id="world-map" class="world-map"></div>
                </div>
            </div>
            <!-- 右侧排行榜 -->
            <div class="col-md-3 mb-3">
                <div class="today-stats-card">
                    <h5 class="section-title">今日新增</h5>
                    <div class="daily-stats">
                        <div id="top-countries-chart" class="top-countries-chart">
                            <h6>累计确诊人数Top5的省份</h6>
                            <div id="top-chart-container"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 右下角固定按钮 -->
    <button type="button" class="btn-province-select position-fixed"
            style="bottom: 20px; right: 20px; z-index: 1050;"
            data-bs-toggle="modal" data-bs-target="#provinceModal">
        选择省份
    </button>

    <!-- 省份选择模态框 -->
    <div class="modal fade" id="provinceModal" tabindex="-1" aria-labelledby="provinceModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable"> <!-- 可滚动 -->
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="provinceModalLabel">选择省份</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="关闭"></button>
                </div>
                <div class="modal-body">
                    <div class="list-group" id="provinceList">
                        <!-- 省份列表项这里动态生成或写死 -->
                        <button type="button" class="list-group-item list-group-item-action">北京市</button>
                        <button type="button" class="list-group-item list-group-item-action">天津市</button>
                        <button type="button" class="list-group-item list-group-item-action">河北省</button>
                        <button type="button" class="list-group-item list-group-item-action">山西省</button>
                        <button type="button" class="list-group-item list-group-item-action">内蒙古自治区</button>
                        <button type="button" class="list-group-item list-group-item-action">辽宁省</button>
                        <button type="button" class="list-group-item list-group-item-action">吉林省</button>
                        <button type="button" class="list-group-item list-group-item-action">黑龙江省</button>
                        <button type="button" class="list-group-item list-group-item-action">上海市</button>
                        <button type="button" class="list-group-item list-group-item-action">江苏省</button>
                        <button type="button" class="list-group-item list-group-item-action">浙江省</button>
                        <button type="button" class="list-group-item list-group-item-action">安徽省</button>
                        <button type="button" class="list-group-item list-group-item-action">福建省</button>
                        <button type="button" class="list-group-item list-group-item-action">江西省</button>
                        <button type="button" class="list-group-item list-group-item-action">山东省</button>
                        <button type="button" class="list-group-item list-group-item-action">河南省</button>
                        <button type="button" class="list-group-item list-group-item-action">湖北省</button>
                        <button type="button" class="list-group-item list-group-item-action">湖南省</button>
                        <button type="button" class="list-group-item list-group-item-action">广东省</button>
                        <button type="button" class="list-group-item list-group-item-action">广西壮族自治区</button>
                        <button type="button" class="list-group-item list-group-item-action">海南省</button>
                        <button type="button" class="list-group-item list-group-item-action">重庆市</button>
                        <button type="button" class="list-group-item list-group-item-action">四川省</button>
                        <button type="button" class="list-group-item list-group-item-action">贵州省</button>
                        <button type="button" class="list-group-item list-group-item-action">云南省</button>
                        <button type="button" class="list-group-item list-group-item-action">西藏自治区</button>
                        <button type="button" class="list-group-item list-group-item-action">陕西省</button>
                        <button type="button" class="list-group-item list-group-item-action">甘肃省</button>
                        <button type="button" class="list-group-item list-group-item-action">青海省</button>
                        <button type="button" class="list-group-item list-group-item-action">宁夏回族自治区</button>
                        <button type="button" class="list-group-item list-group-item-action">新疆维吾尔自治区</button>
                        <button type="button" class="list-group-item list-group-item-action">台湾省</button>
                        <button type="button" class="list-group-item list-group-item-action">香港特别行政区</button>
                        <button type="button" class="list-group-item list-group-item-action">澳门特别行政区</button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>

</div>

{% include 'footer.html' %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>